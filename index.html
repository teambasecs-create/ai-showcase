<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIæ´»ç”¨äº‹ä¾‹ã‚·ãƒ§ãƒ¼ã‚±ãƒ¼ã‚¹ | çµ„ç¹”åˆ¥å®Ÿè£…ãƒãƒƒãƒ—</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #1E40AF;
            --primary-light: #3B82F6;
            --accent: #06B6D4;
            --success: #10B981;
            --warning: #F59E0B;
            --danger: #EF4444;
            --dark: #1F2937;
            --light: #F9FAFB;
            --glass: rgba(255, 255, 255, 0.1);
            --glass-border: rgba(255, 255, 255, 0.2);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: var(--dark);
            overflow-x: auto;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 3rem;
            animation: fadeInDown 0.8s ease;
        }

        .header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.95;
        }

        .org-chart {
            background: var(--glass);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            border: 1px solid var(--glass-border);
            padding: 2rem;
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
            animation: fadeIn 1s ease;
            overflow-x: auto;
        }

        .tree {
            display: flex;
            align-items: center;
            position: relative;
            padding: 20px;
        }

        .node {
            display: flex;
            align-items: center;
            position: relative;
        }

        .node-content {
            background: white;
            border-radius: 12px;
            padding: 1rem 1.5rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 150px;
            text-align: center;
            position: relative;
        }

        .node-content:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 12px rgba(0, 0, 0, 0.15);
        }

        .node-title {
            font-weight: 600;
            font-size: 1rem;
            color: var(--dark);
            margin-bottom: 0.25rem;
        }

        .node-subtitle {
            font-size: 0.85rem;
            color: #6B7280;
        }

        .node-icon {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
        }

        .children {
            display: flex;
            flex-direction: column;
            margin-left: 3rem;
            position: relative;
        }

        .children::before {
            content: '';
            position: absolute;
            left: -2rem;
            top: 0;
            bottom: 0;
            width: 1px;
            background: var(--glass-border);
        }

        .child-node {
            position: relative;
            margin: 1rem 0;
        }

        .child-node::before {
            content: '';
            position: absolute;
            left: -2rem;
            top: 50%;
            width: 2rem;
            height: 1px;
            background: var(--glass-border);
        }

        .departments {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin-left: 2rem;
        }

        .department {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 12px;
            padding: 1rem;
            border-left: 3px solid var(--accent);
        }

        .department-name {
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 0.75rem;
            font-size: 0.95rem;
        }

        .tools {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
        }

        .tool-chip {
            background: linear-gradient(135deg, var(--primary-light), var(--accent));
            color: white;
            padding: 0.4rem 0.8rem;
            border-radius: 20px;
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .tool-chip::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.5);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .tool-chip:hover::before {
            width: 100px;
            height: 100px;
        }

        .tool-chip:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .status-badge {
            display: inline-block;
            padding: 0.2rem 0.5rem;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: 600;
            margin-left: 0.5rem;
        }

        .status-production {
            background: var(--success);
            color: white;
        }

        .status-development {
            background: var(--warning);
            color: white;
        }

        .status-planning {
            background: var(--danger);
            color: white;
        }

        /* ãƒ¢ãƒ¼ãƒ€ãƒ« */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(5px);
            z-index: 1000;
            animation: fadeIn 0.3s ease;
        }

        .modal.show {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: white;
            border-radius: 20px;
            padding: 2rem;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            animation: slideUp 0.4s ease;
            position: relative;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1.5rem;
        }

        .modal-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary);
            flex: 1;
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #6B7280;
            transition: all 0.3s ease;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-close:hover {
            background: var(--light);
            transform: rotate(90deg);
        }

        .modal-body {
            color: var(--dark);
        }

        .modal-description {
            margin-bottom: 1.5rem;
            line-height: 1.6;
        }

        .modal-section {
            margin-bottom: 1.5rem;
        }

        .modal-section h3 {
            font-size: 1rem;
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 0.75rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .links-container {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .link-button {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.25rem;
            background: linear-gradient(135deg, var(--primary-light), var(--accent));
            color: white;
            text-decoration: none;
            border-radius: 10px;
            transition: all 0.3s ease;
            font-size: 0.95rem;
        }

        .link-button:hover {
            transform: translateX(5px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .link-button-demo {
            background: linear-gradient(135deg, #EF4444, #F59E0B);
            font-size: 1.1rem;
            padding: 1rem 1.5rem;
            margin-bottom: 0.75rem;
            justify-content: space-between;
            box-shadow: 0 4px 12px rgba(239, 68, 68, 0.3);
        }

        .link-button-demo:hover {
            transform: scale(1.02) translateX(5px);
            box-shadow: 0 6px 20px rgba(239, 68, 68, 0.4);
        }

        .link-icon {
            font-size: 1.2rem;
        }

        .tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 0.5rem;
        }

        .tag {
            background: var(--light);
            color: var(--dark);
            padding: 0.3rem 0.7rem;
            border-radius: 15px;
            font-size: 0.85rem;
        }

        .impact-box {
            background: linear-gradient(135deg, #10B981, #06B6D4);
            color: white;
            padding: 1rem;
            border-radius: 10px;
            margin-top: 0.75rem;
            text-align: center;
            font-weight: 600;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .loading {
            text-align: center;
            padding: 3rem;
            color: white;
            font-size: 1.2rem;
        }

        .error-message {
            background: rgba(239, 68, 68, 0.1);
            border: 1px solid var(--danger);
            color: var(--danger);
            padding: 1rem;
            border-radius: 10px;
            margin: 1rem 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸš€ AIæ´»ç”¨äº‹ä¾‹ã‚·ãƒ§ãƒ¼ã‚±ãƒ¼ã‚¹</h1>
            <p>çµ„ç¹”éšå±¤åˆ¥ãƒ»ç”ŸæˆAIãƒ„ãƒ¼ãƒ«å®Ÿè£…ãƒãƒƒãƒ—</p>
        </div>

        <div class="org-chart" id="orgChart">
            <div class="loading">ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã‚“ã§ã„ã¾ã™...</div>
        </div>
    </div>

    <!-- ãƒ¢ãƒ¼ãƒ€ãƒ« -->
    <div class="modal" id="toolModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="modalTitle">ãƒ„ãƒ¼ãƒ«å</h2>
                <button class="modal-close" onclick="closeModal()">Ã—</button>
            </div>
            <div class="modal-body" id="modalBody">
                <!-- å‹•çš„ã«ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’æŒ¿å…¥ -->
            </div>
        </div>
    </div>

    <script>
        // ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°
        let organizationData = null;

        // ãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿ï¼ˆdata.jsonãŒèª­ã¿è¾¼ã‚ãªã„å ´åˆã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼‰
        const fallbackData = {
            organization: {
                name: "ä»£è¡¨å–ç· å½¹",
                icon: "ğŸ‘”",
                children: [
                    {
                        name: "ç®¡ç†æœ¬éƒ¨",
                        icon: "ğŸ“‹",
                        departments: [
                            {
                                name: "äººäº‹",
                                tools: [
                                    {
                                        id: "hr-001",
                                        name: "æ¡ç”¨æ¥­å‹™è‡ªå‹•åŒ–AIãƒ„ãƒ¼ãƒ«",
                                        shortDesc: "å¿œå‹Ÿè€…ã‚¹ã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°ã‹ã‚‰é¢æ¥æ—¥ç¨‹èª¿æ•´ã¾ã§è‡ªå‹•åŒ–",
                                        fullDesc: "AIã‚’æ´»ç”¨ã—ã¦å¿œå‹Ÿè€…ã®æ›¸é¡é¸è€ƒã€é©æ€§åˆ¤å®šã€é¢æ¥æ—¥ç¨‹ã®è‡ªå‹•èª¿æ•´ã¾ã§ä¸€è²«ã—ã¦è‡ªå‹•åŒ–ã€‚æ¡ç”¨æ¥­å‹™ã®åŠ¹ç‡ã‚’å¤§å¹…ã«å‘ä¸Šã•ã›ã¾ã™ã€‚",
                                        status: "production",
                                        impact: "æ¡ç”¨å·¥æ•°70%å‰Šæ¸›",
                                        links: {
                                            demo: "https://youtu.be/demo1",
                                            tool: "https://docs.google.com/spreadsheets/d/1HYHC-8Ue__67IEYwtm7nHUbWCEG4q5KAGkDVZxp3LzY/edit?usp=sharing"
                                        },
                                        tags: ["è‡ªå‹•åŒ–", "åŠ¹ç‡åŒ–", "æ¡ç”¨"]
                                    },
                                    {
                                        id: "hr-002",
                                        name: "ç¤¾å†…FAQãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆ",
                                        shortDesc: "ã‚ˆãã‚ã‚‹è³ªå•ã«24æ™‚é–“è‡ªå‹•å¯¾å¿œ",
                                        status: "development",
                                        impact: "å•ã„åˆã‚ã›å¯¾å¿œæ™‚é–“50%å‰Šæ¸›",
                                        tags: ["ãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆ", "FAQ"]
                                    },
                                    {
                                        id: "hr-003",
                                        name: "å‹¤æ€ ãƒ»çµ¦ä¸è¨ˆç®—æ”¯æ´ãƒ„ãƒ¼ãƒ«",
                                        shortDesc: "å‹¤æ€ ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰çµ¦ä¸è¨ˆç®—ã¾ã§è‡ªå‹•åŒ–",
                                        status: "development",
                                        tags: ["çµ¦ä¸è¨ˆç®—", "å‹¤æ€ ç®¡ç†"]
                                    }
                                ]
                            },
                            {
                                name: "çµŒç†",
                                tools: [
                                    {
                                        id: "acc-001",
                                        name: "è«‹æ±‚æ›¸è‡ªå‹•å‡¦ç†AI",
                                        shortDesc: "è«‹æ±‚æ›¸ã®èª­ã¿å–ã‚Šã‹ã‚‰ä»•è¨³ã¾ã§è‡ªå‹•åŒ–",
                                        status: "development",
                                        tags: ["OCR", "è‡ªå‹•åŒ–"]
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        name: "å–¶æ¥­æœ¬éƒ¨",
                        icon: "ğŸ’¼",
                        departments: [
                            {
                                name: "å–¶æ¥­",
                                tools: [
                                    {
                                        id: "sales-001",
                                        name: "ææ¡ˆè³‡æ–™è‡ªå‹•ç”ŸæˆAI",
                                        shortDesc: "é¡§å®¢ã«åˆã‚ã›ãŸææ¡ˆæ›¸ã‚’è‡ªå‹•ç”Ÿæˆ",
                                        fullDesc: "ãƒ’ã‚¢ãƒªãƒ³ã‚°å†…å®¹ã‹ã‚‰ROIè©¦ç®—ã€è³‡æ–™ä½œæˆã¾ã§ä¸€è²«ã—ã¦è‡ªå‹•åŒ–ã€‚å–¶æ¥­ã®ææ¡ˆæº–å‚™æ™‚é–“ã‚’å¤§å¹…ã«å‰Šæ¸›ã—ã¾ã™ã€‚",
                                        status: "production",
                                        impact: "è³‡æ–™ä½œæˆæ™‚é–“80%å‰Šæ¸›",
                                        links: {
                                            demo: "https://youtu.be/demo_sales",
                                            genspark: [
                                                {name: "ãƒ’ã‚¢ãƒªãƒ³ã‚°é …ç›®æŠ½å‡ºbot", url: "https://www.genspark.ai/agents?agent_id=de17d754-ae31-44b9-ba2a-4b45f9bd636a"},
                                                {name: "ROIè©¦ç®—bot", url: "https://www.genspark.ai/agents?agent_id=cc0491f2-f706-4754-847c-322a1471bea4"},
                                                {name: "è³‡æ–™è‡ªå‹•ç”Ÿæˆbot", url: "https://www.genspark.ai/agents?agent_id=6e199ada-693e-477e-970a-e308bc897339"}
                                            ]
                                        },
                                        tags: ["è‡ªå‹•ç”Ÿæˆ", "ææ¡ˆæ›¸", "å–¶æ¥­æ”¯æ´"]
                                    },
                                    {
                                        id: "sales-002",
                                        name: "å•†è«‡è­°äº‹éŒ²è‡ªå‹•ç”ŸæˆAI",
                                        shortDesc: "å•†è«‡å†…å®¹ã‚’è‡ªå‹•ã§æ–‡å­—èµ·ã“ã—ãƒ»è¦ç´„",
                                        fullDesc: "aileadç­‰ã®ãƒ„ãƒ¼ãƒ«ã‚’æ´»ç”¨ã—ã€å•†è«‡ã®éŸ³å£°ã‚’è‡ªå‹•ã§æ–‡å­—èµ·ã“ã—ã€é‡è¦ãƒã‚¤ãƒ³ãƒˆã‚’æŠ½å‡ºã—ã¦æ§‹é€ åŒ–ã•ã‚ŒãŸè­°äº‹éŒ²ã‚’ç”Ÿæˆã€‚æ¬¡å›ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚¢ã‚¤ãƒ†ãƒ ã‚‚è‡ªå‹•æŠ½å‡ºã—ã¾ã™ã€‚",
                                        status: "development",
                                        impact: "è­°äº‹éŒ²ä½œæˆæ™‚é–“90%å‰Šæ¸›",
                                        links: {
                                            demo: "https://youtu.be/demo_sales_minutes"
                                        },
                                        tags: ["æ–‡å­—èµ·ã“ã—", "è¦ç´„", "ailead"]
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        name: "è£½é€ æœ¬éƒ¨",
                        icon: "ğŸ­",
                        departments: [
                            {
                                name: "è£½é€ ",
                                tools: [
                                    {
                                        id: "mfg-001",
                                        name: "è¨­è¨ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆè‡ªå‹•ç”ŸæˆAI",
                                        shortDesc: "æŠ€è¡“ä»•æ§˜æ›¸ã‚’è‡ªå‹•ä½œæˆ",
                                        fullDesc: "è£½å“ã®è¨­è¨ˆæƒ…å ±ã‹ã‚‰æŠ€è¡“ä»•æ§˜æ›¸ã€ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã€ä¿å®ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’è‡ªå‹•ç”Ÿæˆã€‚ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæˆã®è² æ‹…ã‚’è»½æ¸›ã—ã¾ã™ã€‚",
                                        status: "production",
                                        impact: "ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæˆæ™‚é–“75%å‰Šæ¸›",
                                        links: {
                                            demo: "https://youtu.be/demo_mfg",
                                            tool: "https://script.google.com/a/macros/team.addness.co.jp/s/AKfycbzI2CslFKl-O2u4Q3Drj7HpaHrxFcURNKuNvIELwKfbEW5BgwSlBK--58vWUB5YdT1BRg/exec"
                                        },
                                        tags: ["ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”Ÿæˆ", "è£½é€ "]
                                    },
                                    {
                                        id: "mfg-002",
                                        name: "ãƒ™ãƒ†ãƒ©ãƒ³æŠ€è¡“ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹AI",
                                        shortDesc: "ç†Ÿç·´æŠ€è¡“è€…ã®ãƒã‚¦ãƒã‚¦ã‚’AIåŒ–",
                                        status: "development",
                                        tags: ["ãƒŠãƒ¬ãƒƒã‚¸ç®¡ç†", "æŠ€è¡“ç¶™æ‰¿"]
                                    },
                                    {
                                        id: "mfg-003",
                                        name: "å“è³ªä¸è‰¯åŸå› åˆ†æAI",
                                        shortDesc: "ä¸è‰¯å“ã®åŸå› ã‚’è‡ªå‹•åˆ†æ",
                                        status: "development",
                                        tags: ["å“è³ªç®¡ç†", "åˆ†æ"]
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        name: "ã‚«ã‚¹ã‚¿ãƒãƒ¼ã‚µã‚¯ã‚»ã‚¹æœ¬éƒ¨",
                        icon: "ğŸ¯",
                        departments: [
                            {
                                name: "ã‚«ã‚¹ã‚¿ãƒãƒ¼ã‚µã‚¯ã‚»ã‚¹",
                                tools: [
                                    {
                                        id: "cs-001",
                                        name: "AIè‡ªå‹•è¿”ä¿¡ãƒ¡ãƒ¼ãƒ«ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ",
                                        shortDesc: "é¡§å®¢å•ã„åˆã‚ã›ã¸ã®è¿”ä¿¡ã‚’è‡ªå‹•ç”Ÿæˆ",
                                        fullDesc: "é¡§å®¢ã‹ã‚‰ã®å•ã„åˆã‚ã›ãƒ¡ãƒ¼ãƒ«ã‚’åˆ†æã—ã€éå»ã®å¯¾å¿œå±¥æ­´ã¨è£½å“æƒ…å ±ã‚’åŸºã«æœ€é©ãªè¿”ä¿¡æ–‡ã‚’è‡ªå‹•ç”Ÿæˆã€‚æ‹…å½“è€…ã¯ç¢ºèªãƒ»å¾®èª¿æ•´ã®ã¿ã§é€ä¿¡å¯èƒ½ã§ã™ã€‚",
                                        status: "production",
                                        impact: "è¿”ä¿¡ä½œæˆæ™‚é–“70%å‰Šæ¸›",
                                        links: {
                                            demo: "https://youtu.be/demo_cs",
                                            tool: "https://app.slack.com/client/T09LLPWU8F7/C09MELEK02Y",
                                            artifact: "https://claude.ai/public/artifacts/0d2537c8-6269-4e22-a3ba-adf0622aeb26"
                                        },
                                        tags: ["ãƒ¡ãƒ¼ãƒ«è‡ªå‹•åŒ–", "ã‚«ã‚¹ã‚¿ãƒãƒ¼ã‚µãƒãƒ¼ãƒˆ"]
                                    },
                                    {
                                        id: "cs-002",
                                        name: "VoCï¼ˆé¡§å®¢ã®å£°ï¼‰AIåˆ†æã‚·ã‚¹ãƒ†ãƒ ",
                                        shortDesc: "é¡§å®¢ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’è‡ªå‹•åˆ†æãƒ»åˆ†é¡",
                                        status: "development",
                                        impact: "åˆ†ææ™‚é–“85%å‰Šæ¸›",
                                        tags: ["VoCåˆ†æ", "æ„Ÿæƒ…åˆ†æ"]
                                    },
                                    {
                                        id: "cs-003",
                                        name: "è­°äº‹éŒ²è‡ªå‹•ä½œæˆï¼†è¦ç´„ã‚·ã‚¹ãƒ†ãƒ ",
                                        shortDesc: "é¡§å®¢MTGã®è­°äº‹éŒ²ã‚’è‡ªå‹•ç”Ÿæˆ",
                                        status: "development",
                                        impact: "è­°äº‹éŒ²ä½œæˆæ™‚é–“90%å‰Šæ¸›",
                                        tags: ["è­°äº‹éŒ²", "è¦ç´„", "é¡§å®¢å¯¾å¿œ"]
                                    }
                                ]
                            }
                        ]
                    }
                ]
            }
        };

        // åˆæœŸåŒ–
        async function init() {
            try {
                // å®Ÿéš›ã®ç’°å¢ƒã§ã¯ data.json ã‚’ fetch ã§èª­ã¿è¾¼ã‚€
                // const response = await fetch('./data.json');
                // organizationData = await response.json();
                
                // ãƒ‡ãƒ¢ç”¨ã«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ç”¨
                organizationData = fallbackData;
                renderOrganization();
            } catch (error) {
                console.error('ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼:', error);
                // ã‚¨ãƒ©ãƒ¼ãŒèµ·ãã¦ã‚‚ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ã§å‹•ä½œ
                organizationData = fallbackData;
                renderOrganization();
            }
        }

        // çµ„ç¹”å›³ã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
        function renderOrganization() {
            const chartContainer = document.getElementById('orgChart');
            chartContainer.innerHTML = '';
            
            const tree = createTreeNode(organizationData.organization);
            chartContainer.appendChild(tree);
        }

        // ãƒ„ãƒªãƒ¼ãƒãƒ¼ãƒ‰ã®ä½œæˆ
        function createTreeNode(node) {
            const nodeElement = document.createElement('div');
            nodeElement.className = 'tree';
            
            // ãƒ«ãƒ¼ãƒˆãƒãƒ¼ãƒ‰
            const nodeContent = document.createElement('div');
            nodeContent.className = 'node';
            
            const content = document.createElement('div');
            content.className = 'node-content';
            content.innerHTML = `
                <div class="node-icon">${node.icon || 'ğŸ“Š'}</div>
                <div class="node-title">${node.name}</div>
            `;
            
            nodeContent.appendChild(content);
            nodeElement.appendChild(nodeContent);
            
            // å­ãƒãƒ¼ãƒ‰ï¼ˆå„æœ¬éƒ¨ï¼‰
            if (node.children && node.children.length > 0) {
                const childrenContainer = document.createElement('div');
                childrenContainer.className = 'children';
                
                node.children.forEach(child => {
                    const childNode = document.createElement('div');
                    childNode.className = 'child-node';
                    
                    const childContent = document.createElement('div');
                    childContent.className = 'node-content';
                    childContent.style.background = 'linear-gradient(135deg, #667eea, #764ba2)';
                    childContent.style.color = 'white';
                    childContent.innerHTML = `
                        <div class="node-icon">${child.icon || 'ğŸ“'}</div>
                        <div class="node-title">${child.name}</div>
                    `;
                    
                    childNode.appendChild(childContent);
                    
                    // éƒ¨é–€ã¨ãƒ„ãƒ¼ãƒ«
                    if (child.departments && child.departments.length > 0) {
                        const deptContainer = document.createElement('div');
                        deptContainer.className = 'departments';
                        
                        child.departments.forEach(dept => {
                            // ãƒ„ãƒ¼ãƒ«ãŒã‚ã‚‹éƒ¨é–€ã®ã¿è¡¨ç¤º
                            if (dept.tools && dept.tools.length > 0) {
                                const deptElement = document.createElement('div');
                                deptElement.className = 'department';
                                
                                let deptHTML = `<div class="department-name">ğŸ“Œ ${dept.name}</div>`;
                                
                                deptHTML += '<div class="tools">';
                                dept.tools.forEach(tool => {
                                    const statusClass = getStatusClass(tool.status);
                                    const statusText = getStatusText(tool.status);
                                    deptHTML += `
                                        <div class="tool-chip" onclick="openToolModal('${tool.id}')">
                                            ${tool.name}
                                            <span class="status-badge ${statusClass}">${statusText}</span>
                                        </div>
                                    `;
                                });
                                deptHTML += '</div>';
                                
                                deptElement.innerHTML = deptHTML;
                                deptContainer.appendChild(deptElement);
                            }
                        });
                        
                        childNode.appendChild(deptContainer);
                    }
                    
                    childrenContainer.appendChild(childNode);
                });
                
                nodeElement.appendChild(childrenContainer);
            }
            
            return nodeElement;
        }

        // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã®ã‚¯ãƒ©ã‚¹å–å¾—
        function getStatusClass(status) {
            const statusMap = {
                'production': 'status-production',
                'development': 'status-development',
                'planning': 'status-planning'
            };
            return statusMap[status] || 'status-planning';
        }

        // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã®ãƒ†ã‚­ã‚¹ãƒˆå–å¾—
        function getStatusText(status) {
            const statusMap = {
                'production': 'é‹ç”¨ä¸­',
                'development': 'é–‹ç™ºä¸­',
                'planning': 'æ§‹æƒ³ä¸­'
            };
            return statusMap[status] || 'æ§‹æƒ³ä¸­';
        }

        // ãƒ„ãƒ¼ãƒ«ã®ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‹ã
        function openToolModal(toolId) {
            const tool = findToolById(toolId);
            if (!tool) {
                console.error('ãƒ„ãƒ¼ãƒ«ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“:', toolId);
                return;
            }
            
            const modal = document.getElementById('toolModal');
            const modalTitle = document.getElementById('modalTitle');
            const modalBody = document.getElementById('modalBody');
            
            modalTitle.textContent = tool.name;
            
            let bodyHTML = '';
            
            // èª¬æ˜
            if (tool.fullDesc || tool.shortDesc) {
                bodyHTML += `
                    <div class="modal-description">
                        ${tool.fullDesc || tool.shortDesc}
                    </div>
                `;
            }
            
            // ã‚¤ãƒ³ãƒ‘ã‚¯ãƒˆ
            if (tool.impact) {
                bodyHTML += `
                    <div class="impact-box">
                        ğŸ¯ ${tool.impact}
                    </div>
                `;
            }
            
            // ãƒªãƒ³ã‚¯
            if (tool.links) {
                bodyHTML += '<div class="modal-section">';
                bodyHTML += '<h3>ğŸ”— é–¢é€£ãƒªãƒ³ã‚¯</h3>';
                bodyHTML += '<div class="links-container">';
                
                // ãƒ‡ãƒ¢ã‚’æœ€å„ªå…ˆã§è¡¨ç¤ºï¼ˆå¤§ããã€ç›®ç«‹ã¤ã‚ˆã†ã«ï¼‰
                if (tool.links.demo) {
                    bodyHTML += `
                        <a href="${tool.links.demo}" target="_blank" class="link-button link-button-demo">
                            <span class="link-icon">ğŸ¬</span>
                            <strong>ãƒ‡ãƒ¢å‹•ç”»ã‚’è¦‹ã‚‹</strong>
                            <span style="margin-left: auto;">â†’</span>
                        </a>
                    `;
                }
                
                if (tool.links.tool) {
                    bodyHTML += `
                        <a href="${tool.links.tool}" target="_blank" class="link-button">
                            <span class="link-icon">ğŸ”§</span>
                            ãƒ„ãƒ¼ãƒ«ã‚’é–‹ã
                        </a>
                    `;
                }
                
                if (tool.links.prototype) {
                    bodyHTML += `
                        <a href="${tool.links.prototype}" target="_blank" class="link-button">
                            <span class="link-icon">ğŸš€</span>
                            ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—
                        </a>
                    `;
                }
                
                if (tool.links.artifact) {
                    bodyHTML += `
                        <a href="${tool.links.artifact}" target="_blank" class="link-button">
                            <span class="link-icon">ğŸ’</span>
                            Claude Artifact
                        </a>
                    `;
                }
                
                if (tool.links.document) {
                    bodyHTML += `
                        <a href="${tool.links.document}" target="_blank" class="link-button">
                            <span class="link-icon">ğŸ“„</span>
                            ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
                        </a>
                    `;
                }
                
                if (tool.links.genspark && Array.isArray(tool.links.genspark)) {
                    tool.links.genspark.forEach(link => {
                        bodyHTML += `
                            <a href="${link.url}" target="_blank" class="link-button">
                                <span class="link-icon">ğŸ¤–</span>
                                ${link.name}
                            </a>
                        `;
                    });
                }
                
                bodyHTML += '</div></div>';
            }
            
            // ã‚¿ã‚°
            if (tool.tags && tool.tags.length > 0) {
                bodyHTML += '<div class="modal-section">';
                bodyHTML += '<h3>ğŸ·ï¸ ã‚¿ã‚°</h3>';
                bodyHTML += '<div class="tags">';
                tool.tags.forEach(tag => {
                    bodyHTML += `<span class="tag">${tag}</span>`;
                });
                bodyHTML += '</div></div>';
            }
            
            modalBody.innerHTML = bodyHTML;
            modal.classList.add('show');
        }

        // ãƒ„ãƒ¼ãƒ«IDã§æ¤œç´¢
        function findToolById(toolId) {
            if (!organizationData) return null;
            
            for (const child of organizationData.organization.children) {
                if (child.departments) {
                    for (const dept of child.departments) {
                        if (dept.tools) {
                            const tool = dept.tools.find(t => t.id === toolId);
                            if (tool) return tool;
                        }
                    }
                }
            }
            return null;
        }

        // ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‰ã˜ã‚‹
        function closeModal() {
            const modal = document.getElementById('toolModal');
            modal.classList.remove('show');
        }

        // ãƒ¢ãƒ¼ãƒ€ãƒ«å¤–ã‚¯ãƒªãƒƒã‚¯ã§é–‰ã˜ã‚‹
        window.onclick = function(event) {
            const modal = document.getElementById('toolModal');
            if (event.target === modal) {
                closeModal();
            }
        }

        // ESCã‚­ãƒ¼ã§ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‰ã˜ã‚‹
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                closeModal();
            }
        });

        // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«åˆæœŸåŒ–
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>